# --- Builder Stage ---
FROM node:20-alpine AS builder
WORKDIR /app/admin
COPY package*.json ./
RUN yarn install
COPY . .
RUN yarn build # Assuming 'build' creates /dist

# --- Production Stage ---
FROM node:20-alpine
WORKDIR /app/admin
COPY --from=builder /app/admin/dist .
EXPOSE 9000
CMD ["yarn", "start"] # Corrected CMD instruction for Yarn